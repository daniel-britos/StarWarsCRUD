# Insertar registros

```csharp
    [HttpPost]
    public async Task<ActionResult> Post(Personaje personaje)
    {
        _context.Personajes.Add(personaje); // marco el objeto personaje para que sea insertado al guardar cambios
        await _context.SaveChangesAsync(); // recorre las operaciones en memoria pendientes de ser persistidas y las guarda en la bdd, en este caso solo tenemos Add.
        return CreatedAtRoute("GetPersonajes", new {id = personaje.Id}, personaje);// de esta forma devolvemos al cliente un codigo 201 (created) y la ruta para obtener el recurso recien creado. Debemos pasarle el Id en "new {}" ya que es el parametro que pide el metodo Get.
    }

```

```csharp
    [HttpGet("{id:int}", Name = "GetPersonajes")]  // <--- personalizamos nombre para el return del Post
    public async Task<ActionResult<Personaje>> Get(int id)
    {
        var personaje = await _context.Personajes.FirstOrDefaultAsync(p => p.Id == id);

        if (personaje == null)
        {
            return NotFound();
        }

        return personaje;
    }
```
