# Model binding

El Model Binding en .NET (espec铆ficamente en ASP.NET Core MVC y Web API) es un mecanismo que automatiza el proceso de tomar datos de una solicitud HTTP (como la URL, la cadena de consulta, el cuerpo JSON/XML o los datos de formulario) y mapearlos directamente a los par谩metros de un m茅todo de acci贸n de un controlador

Ejemplo Pr谩ctico

```csharp
[HttpPost]
public IActionResult CrearPersonaje([FromBody] Personaje nuevoPersonaje)
{
    // ... tu l贸gica para guardar el personaje ...
}
```

Cuando un cliente env铆a una solicitud HTTP POST con un cuerpo JSON:

```casharp
{
  "nombre": "Han Solo",
  "planetaOrigenId": 1
}
```

El Model Binding en .NET (espec铆ficamente en ASP.NET Core MVC y Web API) es un mecanismo que automatiza el proceso de tomar datos de una solicitud HTTP (como la URL, la cadena de consulta, el cuerpo JSON/XML o los datos de formulario) y mapearlos directamente a los par谩metros de un m茅todo de acci贸n de un controlador. Concepto ClaveEsencialmente, el Model Binding te ahorra tener que escribir c贸digo manual para analizar el input de la solicitud HTTP.Caracter铆sticaDescripci贸nFunci贸nConvierte los datos de texto o binarios de una solicitud HTTP en tipos de datos CLR (Common Language Runtime) fuertemente tipados (como string, int, o una clase C# compleja).Ubicaci贸n de DatosBusca datos en el cuerpo de la solicitud (JSON/XML), la ruta (ej: /personaje/{id}), la cadena de consulta (ej: ?nombre=Luke), y los encabezados.VentajaSimplifica el c贸digo del controlador, ya que puedes trabajar directamente con objetos C# en lugar de manipular objetos HttpRequest de bajo nivel.锔 Ejemplo Pr谩cticoImagina que tienes este m茅todo de acci贸n en tu controlador:C#[HttpPost]
public IActionResult CrearPersonaje([FromBody] Personaje nuevoPersonaje)
{
// ... tu l贸gica para guardar el personaje ...
}

Cuando un cliente env铆a una solicitud HTTP POST con un cuerpo JSON:

```csharp
JSON{
"nombre": "Han Solo",
"planetaOrigenId": 1
}
```

El Model Binder hace lo siguiente:

1. Detecta el atributo [FromBody] e identifica el cuerpo JSON.
2. Lee el cuerpo JSON de la solicitud.
3. Crea una instancia del objeto Personaje.
4. Mapea las propiedades del JSON (nombre, planetaOrigenId) a las propiedades del objeto nuevoPersonaje.
5. Pasa el objeto nuevoPersonaje completamente poblado al m茅todo CrearPersonaje

Es crucial conocer el atributo [From... ] que se usa en los m茅todos de acci贸n, ya que dirigen al Model Binder:

- [FromRoute]: Para obtener valores de la ruta URL (ej: {id}).
  Ejemplo: api/personajes/42/naves (Ruta configurada como: api/personajes/{id}/naves)
- [FromQuery]: Para obtener valores de la cadena de consulta (ej: ?query=valor).
  Ejemplo: "api/personajes?nombre=Luke&planetaId=4"
- [FromBody]: Para obtener un objeto complejo del cuerpo de la solicitud (t铆picamente JSON).
  Ejemplo: (No visible en la URL, va en el cuerpo HTTP, generalmente como JSON o XML). json<br>{ "titulo": "Una Nueva Esperanza", "episodio": 4 }<br>
- [FromForm]: Para obtener datos de un formulario enviado (multipart/form-data).
  Ejemplo: (No visible en la URL, va en el cuerpo HTTP con el encabezado Content-Type: application/x-www-form-urlencoded). nombre=Millennium%20Falcon&capacidad=8
- [FromHeader]: Para obtener un valor del encabezado HTTP.
  Ejemplo: (No visible en la URL, va en los metadatos de la solicitud). Encabezado: Authorization: Bearer my_jwt_token
